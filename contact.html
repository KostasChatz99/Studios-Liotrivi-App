<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">Επικοινωνία</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <div class="logo">
      <a href="index.html">
        <img src="images/Logo.jpg" alt="Logo" class="logo-img" />
      </a>
    </div>
    <nav>
      <ul>
        <li><a href="index.html" data-i18n="nav.welcome">Καλωσήρθατε</a></li>
        <li><a href="rooms.html" data-i18n="nav.rooms">Διαθέσιμα Δωμάτια</a></li>
        <li><a href="about.html" class="active" data-i18n="nav.about">Σχετικά</a></li>
        <li><a href="contact.html" data-i18n="nav.contact">Επικοινωνία</a></li>
      </ul>
    </nav>
    <select onchange="setLanguage(this.value)" id="languageSelect">
      <option value="el">Ελληνικά</option>
      <option value="en">English</option>
    </select>
  </div>

  <!-- Ενότητα Επικοινωνίας -->
  <section class="contact-section">
    <div class="contact-info">
      <h2 data-i18n="contact.title">Επικοινωνήστε Μαζί Μας</h2>
      <p data-i18n="contact.description">Είμαστε πάντα στη διάθεσή σας για οποιαδήποτε πληροφορία ή απορία!</p>

      <div class="contact-item">
        <i class="fas fa-phone-alt"></i>
        <span><span data-i18n="contact.phone">Τηλέφωνο:</span> <a href="tel:+306971844241">+30 6971844241</a></span>
      </div>

      <div class="contact-item">
        <i class="fas fa-envelope"></i>
        <span><span data-i18n="contact.email">Email:</span> <a href="mailto:Studioliotrivi@gmail.com">Studioliotrivi@gmail.com</a></span>
      </div>

      <div class="social-media">
        <h3 data-i18n="contact.follow">Ακολουθήστε μας:</h3>
        <a href="https://www.facebook.com/studioliotrivi" target="_blank" class="social-icon"><i class="fab fa-facebook-square"></i></a>
        <a href="https://www.instagram.com/studios_liotrivi/" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
      </div>
      <div class="contact-form">
        <h3 data-i18n="contact.formTitle">Στείλτε μας μήνυμα</h3>
        <form id="contactForm">
        <label for="name" data-i18n="contact.name">Όνομα:</label>
        <input type="text" id="name" name="name" required>

        <label for="email" data-i18n="contact.emailLabel">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="message" data-i18n="contact.message">Μήνυμα:</label>
        <textarea id="message" name="message" rows="5" required></textarea>

        <button type="submit" id="send-button" data-i18n="contact.send">Αποστολή</button>
        </form>
      </div>
    </div>

    <!-- Χάρτης -->
    <div class="map-container">
      <h3 data-i18n="contact.map">Βρείτε μας στον Χάρτη:</h3>
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d11956.981017247173!2d23.9851629!3d40.3237211!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a8c844c190122b%3A0xaacd4d06e559a956!2sStudios+Liotrivi!5e0!3m2!1sel!2sgr!4v1677477588520!5m2!1sel!2sgr" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p data-i18n="footer.text">&copy; 2025 Hotel. Όλα τα δικαιώματα κατοχυρωμένα.</p>
  </footer>

  <!-- Script Μεταφράσεων -->
  <script>
    const translations = {
      el: {
        title: "Επικοινωνία",
        "nav.welcome": "Καλωσήρθατε",
        "nav.rooms": "Διαθέσιμα Δωμάτια",
        "nav.contact": "Επικοινωνία",
        "nav.about": "Σχετικά",
        "contact.title": "Επικοινωνήστε Μαζί Μας",
        "contact.description": "Είμαστε πάντα στη διάθεσή σας για οποιαδήποτε πληροφορία ή απορία!",
        "contact.phone": "Τηλέφωνο:",
        "contact.email": "Email:",
        "contact.follow": "Ακολουθήστε μας:",
        "contact.map": "Βρείτε μας στον Χάρτη:",
        "footer.text": "&copy; 2025 Hotel. Όλα τα δικαιώματα κατοχυρωμένα.",
        "contact.formTitle": "Στείλτε μας μήνυμα",
        "contact.name": "Όνομα:",
        "contact.emailLabel": "Email:",
        "contact.message": "Μήνυμα:",
        "contact.send": "Αποστολή"

      },
      en: {
        title: "Contact",
        "nav.welcome": "Welcome",
        "nav.rooms": "Available Rooms",
        "nav.contact": "Contact",
        "nav.about": "About",
        "contact.title": "Get in Touch",
        "contact.description": "We're always here to help with any questions or information you need!",
        "contact.phone": "Phone:",
        "contact.email": "Email:",
        "contact.follow": "Follow us:",
        "contact.map": "Find us on the Map:",
        "footer.text": "&copy; 2025 Hotel. All rights reserved.",
        "contact.formTitle": "Send us a message",
        "contact.name": "Name:",
        "contact.emailLabel": "Email:",
        "contact.message": "Message:",
        "contact.send": "Send"
      }
    };

    function setLanguage(lang) {
      localStorage.setItem("preferredLanguage", lang);
      applyTranslations(lang);
      document.getElementById("languageSelect").value = lang;
    }

    function applyTranslations(lang) {
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (translations[lang][key]) {
          el.innerHTML = translations[lang][key];
        }
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      const lang = localStorage.getItem("preferredLanguage") || "el";
      setLanguage(lang);
    });
  </script>
<script>
document.getElementById("contactForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const data = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    message: document.getElementById("message").value
  };

  try {
    const res = await fetch("http://localhost:5000/contact", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });

    const result = await res.json();

    if (res.ok) {
      alert(result.message || "Το μήνυμα εστάλη!");
      document.getElementById("contactForm").reset();
    } else {
      alert(result.error || "Παρουσιάστηκε πρόβλημα.");
    }
  } catch (err) {
    console.error("Σφάλμα αποστολής:", err);
    alert("Αποτυχία αποστολής μηνύματος.");
  }
});
</script>
</body>
</html>
